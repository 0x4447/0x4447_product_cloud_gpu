{
    "VideoEditingAutoScalingGroup": {
        "Type": "AWS::AutoScaling::AutoScalingGroup",
        "Properties": {
            "LaunchConfigurationName": { "Ref": "VideoEditingLaunchConfiguration" },
            "DesiredCapacity": 1,
            "MinSize": 1,
            "MaxSize": 1,
            "Cooldown": "300",
            "VPCZoneIdentifier": [
                {"Ref": "PublicSubnet1ID"},
                {"Ref": "PublicSubnet2ID"}
            ],
            "Tags": [
                {
                    "Key": "Name",
                    "Value": "Video Editing",
                    "PropagateAtLaunch": true
                }
            ]
        },
        "CreationPolicy": {
            "ResourceSignal": {
                "Count": 1,
                "Timeout": "PT60M"
            }
        },
        "UpdatePolicy" : {
            "AutoScalingRollingUpdate": {
                "MaxBatchSize": 1,
                "MinInstancesInService": 0,
                "PauseTime": "PT60M",
                "SuspendProcesses": [
                    "HealthCheck",
                    "ReplaceUnhealthy",
                    "AZRebalance",
                    "AlarmNotification",
                    "ScheduledActions"
                ],
                "WaitOnResourceSignals": true
            }
        }
    }
}
